{
  "ExchangeRate": {
    "PrimaryApiUrl": "https://api.coingecko.com/api/v3",
    "BackupApiUrl": "https://pro-api.coinmarketcap.com/v1",
    "CoinMarketCapApiKey": "your-coinmarketcap-api-key",
    "CacheExpiry": "00:05:00",
    "EmergencyCacheMaxAge": "02:00:00",
    "RequestTimeout": "00:00:10",
    "MaxRetries": 3,
    "RetryDelay": "00:00:01"
  },
  "Idempotency": {
    "DefaultExpiry": "01:00:00",
    "ConflictRetryDelay": "00:00:00.100",
    "CacheKeyPrefix": "crypto_payment_idempotency"
  },
  "ConnectionTracking": {
    "MaxConnectionsPerUser": 5,
    "CleanupInterval": "00:05:00",
    "StaleConnectionTimeout": "02:00:00"
  },
  "NotificationBatching": {
    "BaseBatchSize": 50,
    "MinBatchInterval": 100,
    "MaxBatchInterval": 5000,
    "HighPriorityMethods": ["PaymentStatusChanged", "TransactionDetected"],
    "LowPriorityMethods": ["ExchangeRateUpdated"]
  },
  "ServiceDegradation": {
    "HealthCheckInterval": "00:00:30",
    "RecoveryAttemptInterval": "00:02:00",
    "CircuitBreakerFailureThreshold": 5,
    "CircuitBreakerRecoveryTime": "00:01:00",
    "Services": {
      "exchange_rate_service": {
        "FallbackRates": {
          "Bitcoin": 45000.0,
          "Ethereum": 3000.0,
          "USDT": 1.0,
          "USDC": 1.0
        },
        "MaxStaleDataAge": "02:00:00"
      },
      "blockchain": {
        "ConnectionTimeout": "00:00:10",
        "MaxRetries": 3,
        "RetryDelay": "00:00:02"
      },
      "database": {
        "ConnectionTimeout": "00:00:30",
        "CommandTimeout": "00:01:00",
        "MaxRetries": 2
      },
      "redis": {
        "ConnectionTimeout": "00:00:05",
        "OperationTimeout": "00:00:10",
        "MaxRetries": 3
      }
    }
  },
  "HealthCheck": {
    "BackgroundCheckIntervalSeconds": 60,
    "CacheResponsesForSeconds": 30,
    "TimeoutSeconds": 30
  },
  "CircuitBreaker": {
    "FailureRatio": 0.5,
    "SamplingDuration": "00:00:30",
    "MinimumThroughput": 5,
    "BreakDuration": "00:01:00"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "eShop.CryptoPayment.API.Services": "Debug",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}